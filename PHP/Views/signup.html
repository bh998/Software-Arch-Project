<html>
<head>

<link rel="stylesheet" href="../../Libraries/bootstrap-3.3.7-dist/css/bootstrap.min.css">
<script src="../../Libraries/jquery-3.1.1.js"></script>
<script src="../../Libraries/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
<script src="../../JS/Classes/Mailbox_Layer.js"></script>

</head>
<body>

<h3>New Account Sign Up!</h3>
<br>

<!--Example of bootstrap form found on www.w3schools.com-->
<form class="form-horizontal" action="../../PHP/Controllers/signup.php" method="POST">
  <div class="form-group">
    <label class="control-label col-sm-1" for="email">Email:</label>
    <div class="col-sm-10">
      <input id='email' type="email" name="email" class="form-control" placeholder="Enter email">
    </div>
  </div>
  <div class='form-group'>
    <div class='col-sm-1'></div>
    <div class='col-sm-2 btn btn-primary' onclick="run();">Check Email</div>
    <div class='col-sm-2 text-success' id='valid'></div>
  </div>
  <div class="form-group">
    <label class="control-label col-sm-1" for="username">Username:</label>
    <div class="col-sm-10">
      <input type="text" name="username" class="form-control" placeholder="Enter username">
    </div>
  </div> 
  <div class="form-group">
    <label class="control-label col-sm-1" for="password">Password:</label>
    <div class="col-sm-10">
      <input type="password" class="form-control" name="password" placeholder="Enter password">
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-10">
      <button id='btn' type="submit" class="btn btn-primary">Submit</button>
    </div>
  </div>
</form>

<script>
document.getElementById('btn').disabled = true;

function run(){
    var mb_layer = new Mailbox_Layer();
    var check = mb_layer.checkEmail(document.getElementById("email").value);

    if(check == true){
        document.getElementById("valid").innerHTML = "Email is valid!";
	document.getElementById('btn').disabled = false;
        valid = true;
    }
    else if(check == false){
        document.getElementById("valid").innerHTML = "Email is not valid!";
    }   
}
</script>

</body>
</html>
